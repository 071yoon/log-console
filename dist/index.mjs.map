{"version":3,"sources":["../src/components/LogConsole.tsx","../src/hooks/useLogScroll.ts","../src/hooks/useLogStats.ts","../src/lib/log-utils.ts","../src/components/log/GoToBottomButton.tsx","../src/components/ui/button.tsx","../node_modules/clsx/dist/clsx.mjs","../src/lib/utils.ts","../src/components/log/LogContent.tsx","../src/components/ui/spinner.tsx","../src/components/log/ExpandableSubLines.tsx","../src/components/log/LogLine.tsx","../src/components/ui/badge.tsx","../src/components/ui/input.tsx","../src/components/ui/label.tsx","../src/components/ui/switch.tsx","../src/components/log/LogHeader.tsx"],"sourcesContent":["'use client';\n\nimport { throttle } from 'es-toolkit';\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useLogScroll } from '../hooks/useLogScroll';\nimport { useLogStats } from '../hooks/useLogStats';\nimport { groupLogLines } from '../lib/log-utils';\nimport { GroupedLogLine } from '../types';\nimport { GoToBottomButton } from './log/GoToBottomButton';\nimport { LogContent } from './log/LogContent';\nimport { LogHeader } from './log/LogHeader';\nimport { Spinner } from './ui/spinner';\n\ninterface LogConsoleProps {\n  logFileUrl: string | null;\n  initialDisplayLines?: number;\n}\n\nconst DEFAULT_INITIAL_LINES = 500;\n\nexport function LogConsole({\n  logFileUrl,\n  initialDisplayLines = DEFAULT_INITIAL_LINES,\n}: LogConsoleProps) {\n  const [allGroupedLogs, setAllGroupedLogs] = useState<GroupedLogLine[]>([]);\n  const [displayedLogGroups, setDisplayedLogGroups] = useState<\n    GroupedLogLine[]\n  >([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  const [isTailingEnabled, setIsTailingEnabled] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [windowHeight, setWindowHeight] = useState(0);\n\n  const isInitialLoadRef = useRef(true);\n  const isFetchingMoreRef = useRef(false);\n\n  const {\n    scrollViewportRef,\n    handleScroll,\n    scrollToBottom,\n    isAtBottom,\n    isAtTop,\n    getScrollInfo,\n    setScrollTop,\n  } = useLogScroll();\n\n  const stats = useLogStats(allGroupedLogs);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      setWindowHeight(window.innerHeight);\n      const handleResize = () => setWindowHeight(window.innerHeight);\n      window.addEventListener('resize', handleResize);\n      return () => window.removeEventListener('resize', handleResize);\n    }\n  }, []);\n\n  const fetchLogs = useCallback(\n    async (isTailingFetch = false) => {\n      if (!logFileUrl || (isLoading && !isTailingFetch)) return;\n\n      if (!isTailingFetch) {\n        setIsLoading(true);\n      }\n\n      try {\n        const response = await fetch(logFileUrl);\n        if (!response.ok)\n          throw new Error(`Failed to fetch log file: ${response.statusText}`);\n        const text = await response.text();\n        const rawLines = text.split('\\n');\n        const grouped = groupLogLines(rawLines);\n\n        setAllGroupedLogs(grouped);\n\n        if (isTailingFetch) {\n          const prevAllGroupedLogsLength = allGroupedLogs.length;\n          const newLogs = grouped.slice(prevAllGroupedLogsLength);\n          if (newLogs.length > 0) {\n            setDisplayedLogGroups((prev) => [...prev, ...newLogs]);\n            if (isAtBottom) {\n              requestAnimationFrame(() => scrollToBottom());\n            }\n          }\n        } else {\n          // Initial load or manual re-fetch\n          const endIndex = grouped.length;\n          const startIndex = Math.max(0, endIndex - initialDisplayLines);\n          setDisplayedLogGroups(grouped.slice(startIndex, endIndex));\n        }\n      } catch (e) {\n        console.error('Error occurred while fetching logs:', e);\n      } finally {\n        if (!isTailingFetch) {\n          setIsLoading(false);\n        }\n      }\n    },\n    [\n      logFileUrl,\n      isLoading,\n      allGroupedLogs,\n      isAtBottom,\n      scrollToBottom,\n      initialDisplayLines,\n    ]\n  );\n\n  // --- Initial Load / File Change Effect ---\n  useEffect(() => {\n    if (logFileUrl) {\n      isInitialLoadRef.current = true;\n      setAllGroupedLogs([]);\n      setDisplayedLogGroups([]);\n      fetchLogs(false);\n    }\n  }, [logFileUrl]);\n\n  // --- Effect for scrolling to bottom on initial load ---\n  useEffect(() => {\n    if (isInitialLoadRef.current && displayedLogGroups.length > 0) {\n      // Use a timeout to ensure the DOM has been painted\n      setTimeout(() => {\n        scrollToBottom();\n        isInitialLoadRef.current = false;\n      }, 0);\n    }\n  }, [displayedLogGroups, scrollToBottom]);\n\n  useEffect(() => {\n    if (isTailingEnabled && logFileUrl) {\n      const interval = setInterval(() => fetchLogs(true), 1000);\n      return () => clearInterval(interval);\n    }\n  }, [isTailingEnabled, logFileUrl, fetchLogs]);\n\n  const loadMoreOldLogs = useCallback(() => {\n    if (\n      isFetchingMoreRef.current ||\n      displayedLogGroups.length >= allGroupedLogs.length\n    )\n      return;\n\n    isFetchingMoreRef.current = true;\n    setIsLoadingMore(true);\n\n    const { scrollHeight: oldScrollHeight } = getScrollInfo();\n\n    setTimeout(() => {\n      const currentFirstLog = displayedLogGroups[0];\n      const indexOfCurrentFirstInAll = allGroupedLogs.findIndex(\n        (log) => log.id === currentFirstLog.id\n      );\n\n      if (indexOfCurrentFirstInAll > 0) {\n        const newStartIndex = Math.max(\n          0,\n          indexOfCurrentFirstInAll - initialDisplayLines\n        );\n        const newLogsToPrepend = allGroupedLogs.slice(\n          newStartIndex,\n          indexOfCurrentFirstInAll\n        );\n\n        setDisplayedLogGroups((prev) => [...newLogsToPrepend, ...prev]);\n\n        requestAnimationFrame(() => {\n          if (scrollViewportRef.current) {\n            const { scrollHeight: newScrollHeight } = getScrollInfo();\n            const heightIncreasedBy = newScrollHeight - oldScrollHeight;\n            setScrollTop(heightIncreasedBy);\n            setIsLoadingMore(false);\n            isFetchingMoreRef.current = false;\n          }\n        });\n      } else {\n        setIsLoadingMore(false);\n        isFetchingMoreRef.current = false;\n      }\n    }, 500);\n  }, [\n    displayedLogGroups,\n    allGroupedLogs,\n    getScrollInfo,\n    setScrollTop,\n    scrollViewportRef,\n    initialDisplayLines,\n  ]);\n\n  useEffect(() => {\n    if (\n      isAtTop &&\n      !isFetchingMoreRef.current &&\n      !isInitialLoadRef.current &&\n      displayedLogGroups.length < allGroupedLogs.length\n    ) {\n      loadMoreOldLogs();\n    }\n  }, [\n    isAtTop,\n    loadMoreOldLogs,\n    displayedLogGroups.length,\n    allGroupedLogs.length,\n  ]);\n\n  const handleSearch = throttle((term: string) => setSearchTerm(term), 300);\n\n  const filteredLogs = useMemo(\n    () =>\n      displayedLogGroups.filter(\n        (logGroup) =>\n          logGroup.mainLine.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          logGroup.subLines.some((subLine) =>\n            subLine.toLowerCase().includes(searchTerm.toLowerCase())\n          )\n      ),\n    [displayedLogGroups, searchTerm]\n  );\n\n  const startLineNumber = useMemo(() => {\n    if (filteredLogs.length === 0) return 1;\n    const firstLogId = filteredLogs[0]?.id;\n    const originalIndex = allGroupedLogs.findIndex(\n      (log) => log.id === firstLogId\n    );\n    return originalIndex !== -1 ? originalIndex + 1 : 1;\n  }, [filteredLogs, allGroupedLogs]);\n\n  if (!logFileUrl) {\n    return (\n      <div className=\"flex h-full items-center justify-center\">\n        <p>Please provide a log file URL.</p>\n      </div>\n    );\n  }\n\n  if (isLoading && isInitialLoadRef.current) {\n    return (\n      <div className=\"flex h-full items-center justify-center\">\n        <Spinner />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-full flex-col\">\n      <LogHeader\n        onSearchChange={handleSearch}\n        isTailingEnabled={isTailingEnabled}\n        onTailingChange={setIsTailingEnabled}\n        stats={stats}\n      />\n      <div className=\"relative flex-1 overflow-hidden\">\n        <LogContent\n          logs={filteredLogs}\n          height={Math.max(0, windowHeight - 100)}\n          width=\"100%\"\n          startLineNumber={startLineNumber}\n          outerRef={scrollViewportRef}\n          onScroll={handleScroll}\n          isLoadingMore={isLoadingMore}\n        />\n        <GoToBottomButton isVisible={!isAtBottom} onClick={scrollToBottom} />\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useEffect,useRef, useState } from 'react';\n\n// This hook manages the scroll state of a given scrollable DOM element\nexport function useLogScroll() {\n  const [isAtBottom, setIsAtBottom] = useState(true);\n  const [isAtTop, setIsAtTop] = useState(true);\n  const scrollViewportRef = useRef<HTMLDivElement>(null);\n\n  const getScrollInfo = useCallback(() => {\n    const viewport = scrollViewportRef.current;\n    if (!viewport) {\n      return { scrollTop: 0, scrollHeight: 0, clientHeight: 0 };\n    }\n    return {\n      scrollTop: viewport.scrollTop,\n      scrollHeight: viewport.scrollHeight,\n      clientHeight: viewport.clientHeight,\n    };\n  }, []);\n\n  const scrollToBottom = useCallback(() => {\n    const viewport = scrollViewportRef.current;\n    if (viewport) {\n      viewport.scrollTo({\n        behavior: 'smooth',\n        top: viewport.scrollHeight,\n      });\n      setIsAtBottom(true);\n    }\n  }, []);\n\n  const setScrollTop = useCallback((position: number) => {\n    const viewport = scrollViewportRef.current;\n    if (viewport) {\n      viewport.scrollTop = position;\n    }\n  }, []);\n\n  const handleScroll = useCallback(() => {\n    const { scrollTop, scrollHeight, clientHeight } = getScrollInfo();\n    const scrolledToBottom = scrollHeight - scrollTop - clientHeight < 1;\n    setIsAtBottom(scrolledToBottom);\n    setIsAtTop(scrollTop === 0);\n  }, [getScrollInfo]);\n\n  // Effect to attach/detach scroll listener\n  useEffect(() => {\n    const viewport = scrollViewportRef.current;\n    if (viewport) {\n      handleScroll(); // Initial check\n      viewport.addEventListener('scroll', handleScroll);\n      return () => {\n        viewport.removeEventListener('scroll', handleScroll);\n      };\n    }\n  }, [handleScroll]); // Re-run if handleScroll identity changes\n\n  return { scrollViewportRef, handleScroll, scrollToBottom, isAtBottom, isAtTop, getScrollInfo, setScrollTop };\n}","import { useMemo } from 'react';\n\nimport { GroupedLogLine } from '../types';\n\nexport function useLogStats(logs: GroupedLogLine[]) {\n  const stats = useMemo(() => {\n    return {\n      total: logs.length,\n      errors: logs.filter((logGroup) =>\n        logGroup.mainLine.toLowerCase().includes('error')\n      ).length,\n      warnings: logs.filter((logGroup) =>\n        logGroup.mainLine.toLowerCase().includes('warn')\n      ).length,\n    };\n  }, [logs]);\n\n  return stats;\n}\n","import { GroupedLogLine } from '../types';\n\n// A simple ID generator for log lines.\n// Using a prefix and an incrementing number is sufficient for unique keys in this context.\nlet logIdCounter = 0;\nconst generateLogId = () => `log-${logIdCounter++}`;\n\n\n// Regex to detect common timestamp patterns at the beginning of a log line.\n// Examples:\n// [2023-10-27 10:00:00.123]\n// 2023-10-27T10:00:00.123Z\n// Oct 27 10:00:00\nconst TIMESTAMP_REGEX =\n  /^\\s*(\\[\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}(.\\d{3})?\\]|\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(.\\d{3})?Z|\\w{3} \\d{1,2} \\d{2}:\\d{2}:\\d{2})/;\n\n// Regex for Java log format: YYYY-MM-DD HH:MM:SS.ms [thread-name] LEVEL class.name - message\nconst JAVA_LOG_REGEX =\n  /^(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}\\.\\d{3})\\s+\\[(.*?)\\]\\s+([A-Z]+)\\s+([a-zA-Z0-9\\._-]+)\\s+-\\s+(.*)/;\n\nexport function groupLogLines(logStrings: string[]): GroupedLogLine[] {\n  const groupedLogs: GroupedLogLine[] = [];\n  logIdCounter = 0; // Reset counter for each file processing\n\n  for (const line of logStrings) {\n    const javaMatch = line.match(JAVA_LOG_REGEX);\n\n    if (javaMatch) {\n      // This line matches the Java log format, so it's a new main log entry\n      groupedLogs.push({\n        id: generateLogId(),\n        mainLine: line,\n        subLines: [],\n        timestamp: javaMatch[1],\n        thread: javaMatch[2],\n        level: javaMatch[3],\n        logger: javaMatch[4],\n        message: javaMatch[5].trim(),\n      });\n    } else if (TIMESTAMP_REGEX.test(line)) {\n      // This line starts with a general timestamp, so it's a new main log entry\n      groupedLogs.push({ id: generateLogId(), mainLine: line, subLines: [] });\n    } else if (groupedLogs.length > 0) {\n      // This line doesn't start with a timestamp, so it's a sub-line of the previous entry\n      groupedLogs[groupedLogs.length - 1].subLines.push(line);\n    } else {\n      // No timestamp, and no previous log to attach to. Treat as a main line.\n      // This can happen if the very first line of the log file doesn't have a timestamp.\n      groupedLogs.push({ id: generateLogId(), mainLine: line, subLines: [] });\n    }\n  }\n\n  return groupedLogs;\n}\n","'use client'\n\nimport { ArrowDown } from 'lucide-react'\n\nimport { Button } from '../ui/button'\n\ninterface GoToBottomButtonProps {\n  isVisible: boolean\n  onClick: () => void\n}\n\nexport function GoToBottomButton({ isVisible, onClick }: GoToBottomButtonProps) {\n  if (!isVisible) {\n    return null\n  }\n\n  return (\n    <Button\n      size=\"icon\"\n      className=\"absolute bottom-6 right-6 rounded-full\"\n      onClick={onClick}\n    >\n      <ArrowDown className=\"h-4 w-4\" />\n    </Button>\n  )\n}\n","import { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport * as React from 'react'\n\nimport { cn } from '../../lib/utils'\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*=\\'size-\\'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import { type ClassValue,clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function formatDate(input: string | number): string {\n  const date = new Date(input);\n  return date.toLocaleDateString('en-US', {\n    month: 'long',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\nexport function absoluteUrl(path: string) {\n  return `${process.env.NEXT_PUBLIC_APP_URL}${path}`;\n}\n","'use client';\n\nimport React, { forwardRef, UIEventHandler } from 'react';\n\nimport { GroupedLogLine } from '../../types';\nimport { Spinner } from '../ui/spinner'; // Import Spinner\nimport { ExpandableSubLines } from './ExpandableSubLines';\nimport { LogLine } from './LogLine';\n\ninterface LogContentProps {\n  logs: GroupedLogLine[];\n  height: number;\n  width: string;\n  startLineNumber: number;\n  outerRef: React.Ref<HTMLDivElement>;\n  onScroll: UIEventHandler<HTMLDivElement>;\n  isLoadingMore: boolean; // New prop for loading state\n}\n\nconst Row: React.FC<{\n  logGroup: GroupedLogLine;\n  originalLineNumber: number;\n  style?: React.CSSProperties;\n}> = React.memo(({ logGroup, originalLineNumber, style }) => {\n  return (\n    <div style={style}>\n      <div className=\"flex text-xs\">\n        <div className=\"w-12 select-none text-right opacity-50 pr-2\">\n          {originalLineNumber}\n        </div>\n        <LogLine line={logGroup.mainLine} level={logGroup.level} />\n      </div>\n      {logGroup.subLines.length > 0 && (\n        <ExpandableSubLines subLines={logGroup.subLines} />\n      )}\n    </div>\n  );\n});\n\nRow.displayName = 'LogRow';\n\nexport const LogContent = forwardRef<HTMLDivElement, LogContentProps>(\n  (\n    { logs, height, width, startLineNumber, outerRef, onScroll, isLoadingMore },\n    ref\n  ) => {\n    return (\n      <main className=\"relative flex-1\">\n        <div\n          ref={outerRef}\n          onScroll={onScroll}\n          style={{ height: height > 0 ? height : '100%', overflowY: 'auto', width }}\n          className=\"h-full\"\n        >\n          {/* Top loading spinner */}\n          {isLoadingMore && (\n            <div className=\"flex justify-center items-center p-2\">\n              <Spinner />\n            </div>\n          )}\n          {logs.map((logGroup, index) => (\n            <Row\n              key={logGroup.id} // Use a stable key like an id\n              logGroup={logGroup}\n              originalLineNumber={startLineNumber + index}\n            />\n          ))}\n        </div>\n      </main>\n    );\n  }\n);\n\nLogContent.displayName = 'LogContent';","import { Loader2Icon } from 'lucide-react'\n\nimport { cn } from '../../lib/utils'\n\nfunction Spinner({ className, ...props }: React.ComponentProps<'svg'>) {\n  return (\n    <Loader2Icon\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn('size-4 animate-spin', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Spinner }\n","'use client';\n\nimport { ChevronDown, ChevronRight } from 'lucide-react';\nimport { useState } from 'react';\n\ninterface ExpandableSubLinesProps {\n  subLines: string[];\n}\n\nexport function ExpandableSubLines({ subLines }: ExpandableSubLinesProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  if (subLines.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"flex flex-col pl-4\">\n      <button\n        className=\"flex items-center gap-1 text-xs text-muted-foreground hover:underline\"\n        onClick={() => setIsExpanded(!isExpanded)}\n      >\n        {isExpanded ? (\n          <ChevronDown className=\"h-3 w-3\" />\n        ) : (\n          <ChevronRight className=\"h-3 w-3\" />\n        )}\n        {isExpanded ? 'Hide' : `Show ${subLines.length} more`} lines\n      </button>\n      {isExpanded && (\n        <div className=\"flex flex-col\">\n          {subLines.map((line, index) => (\n            <div key={index} className=\"flex\">\n              <div className=\"w-12 select-none text-right opacity-50\">\n                {/* No line number for sub-lines to avoid confusion with main lines */}\n              </div>\n              <div className=\"flex-1 pl-4 text-[10px]\">{line}</div>{' '}\n              {/* Added text-[10px] */}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport { useMemo, useState } from 'react';\n\ninterface LogLineProps {\n  line: string;\n  level?: string;\n}\n\nexport function LogLine({ line, level }: LogLineProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const toggleExpansion = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  const textColorClass = useMemo(() => {\n    switch (level) {\n      case 'ERROR':\n        return 'text-red-500';\n      case 'WARN':\n        return 'text-yellow-500';\n      case 'INFO':\n        return 'text-blue-500';\n      case 'DEBUG':\n        return 'text-gray-500';\n      case 'FATAL':\n        return 'text-red-700 font-bold';\n      default:\n        return '';\n    }\n  }, [level]);\n\n  return (\n    <div\n      className={`flex-1 pl-4 ${textColorClass} ${\n        !isExpanded ? 'whitespace-nowrap overflow-hidden text-ellipsis' : ''\n      }`}\n      onClick={toggleExpansion}\n    >\n      {line}\n    </div>\n  );\n}","import { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport * as React from 'react'\n\nimport { cn } from '../../lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import * as React from 'react'\n\nimport { cn } from '../../lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","'use client'\n\nimport * as LabelPrimitive from '@radix-ui/react-label'\nimport * as React from 'react'\n\nimport { cn } from '../../lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","'use client'\n\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\nimport * as React from 'react'\n\nimport { cn } from '../../lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={cn(\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n","'use client';\n\nimport { Badge } from '../ui/badge';\nimport { Input } from '../ui/input';\nimport { Label } from '../ui/label';\nimport { Switch } from '../ui/switch';\n\nfunction LogStats({\n  stats,\n}: {\n  stats: { total: number; errors: number; warnings: number };\n}) {\n  return (\n    <div className=\"flex items-center gap-4\">\n      <Badge variant=\"outline\">Total: {stats.total}</Badge>\n      <Badge variant=\"destructive\">Errors: {stats.errors}</Badge>\n      <Badge variant=\"secondary\">Warnings: {stats.warnings}</Badge>\n    </div>\n  );\n}\n\ninterface LogHeaderProps {\n  onSearchChange: (term: string) => void;\n  isTailingEnabled: boolean;\n  onTailingChange: (enabled: boolean) => void;\n  stats: { total: number; errors: number; warnings: number };\n}\n\nexport function LogHeader({\n  onSearchChange,\n  isTailingEnabled,\n  onTailingChange,\n  stats,\n}: LogHeaderProps) {\n  return (\n    <header className=\"flex h-14 items-center justify-between gap-4 border-b bg-muted/40 px-4 lg:h-[60px] lg:px-6\">\n      <div className=\"w-full flex-1\">\n        <Input\n          placeholder=\"Search logs...\"\n          onChange={(e) => onSearchChange(e.target.value)}\n        />\n      </div>\n      <div className=\"flex items-end gap-1\">\n        <div className=\"flex items-center gap-2 mr-4\">\n          <Label htmlFor=\"tail-switch\" className=\"text-xs\">\n            Live Tailing\n          </Label>\n          <Switch\n            id=\"tail-switch\"\n            checked={isTailingEnabled}\n            onCheckedChange={onTailingChange}\n          />\n        </div>\n        <LogStats stats={stats} />\n      </div>\n    </header>\n  );\n}\n"],"mappings":"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","names":["throttle","useCallback","useEffect","useMemo","useRef","useState","useCallback","useEffect","useRef","useState","useLogScroll","isAtBottom","setIsAtBottom","isAtTop","setIsAtTop","scrollViewportRef","getScrollInfo","viewport","scrollToBottom","setScrollTop","position","handleScroll","scrollTop","scrollHeight","clientHeight","scrolledToBottom","useMemo","useLogStats","logs","logGroup","logIdCounter","generateLogId","TIMESTAMP_REGEX","JAVA_LOG_REGEX","groupLogLines","logStrings","groupedLogs","line","javaMatch","ArrowDown","Slot","cva","r","f","n","o","clsx","twMerge","cn","inputs","clsx","jsx","buttonVariants","cva","Button","_a","_b","className","variant","size","asChild","props","__objRest","Slot","__spreadValues","cn","jsx","GoToBottomButton","isVisible","onClick","Button","ArrowDown","React","forwardRef","Loader2Icon","jsx","Spinner","_a","_b","className","props","__objRest","Loader2Icon","__spreadValues","cn","ChevronDown","ChevronRight","useState","jsx","jsxs","ExpandableSubLines","subLines","isExpanded","setIsExpanded","line","index","useMemo","useState","jsx","LogLine","line","level","isExpanded","setIsExpanded","toggleExpansion","textColorClass","jsx","jsxs","Row","React","logGroup","originalLineNumber","style","LogLine","ExpandableSubLines","LogContent","forwardRef","logs","height","width","startLineNumber","outerRef","onScroll","isLoadingMore","ref","Spinner","index","Slot","cva","jsx","badgeVariants","cva","Badge","_a","_b","className","variant","asChild","props","__objRest","Slot","__spreadValues","cn","jsx","Input","_a","_b","className","type","props","__objRest","__spreadValues","cn","LabelPrimitive","jsx","Label","_a","_b","className","props","__objRest","__spreadValues","cn","SwitchPrimitive","jsx","Switch","_a","_b","className","props","__objRest","__spreadProps","__spreadValues","cn","jsx","jsxs","LogStats","stats","Badge","LogHeader","onSearchChange","isTailingEnabled","onTailingChange","Input","e","Label","Switch","jsx","jsxs","DEFAULT_INITIAL_LINES","LogConsole","logFileUrl","initialDisplayLines","allGroupedLogs","setAllGroupedLogs","useState","displayedLogGroups","setDisplayedLogGroups","isLoading","setIsLoading","isLoadingMore","setIsLoadingMore","isTailingEnabled","setIsTailingEnabled","searchTerm","setSearchTerm","windowHeight","setWindowHeight","isInitialLoadRef","useRef","isFetchingMoreRef","scrollViewportRef","handleScroll","scrollToBottom","isAtBottom","isAtTop","getScrollInfo","setScrollTop","useLogScroll","stats","useLogStats","useEffect","handleResize","fetchLogs","useCallback","isTailingFetch","response","rawLines","grouped","groupLogLines","prevAllGroupedLogsLength","newLogs","prev","endIndex","startIndex","e","interval","loadMoreOldLogs","oldScrollHeight","currentFirstLog","indexOfCurrentFirstInAll","log","newStartIndex","newLogsToPrepend","newScrollHeight","heightIncreasedBy","handleSearch","throttle","term","filteredLogs","useMemo","logGroup","subLine","startLineNumber","_a","firstLogId","originalIndex","Spinner","LogHeader","LogContent","GoToBottomButton"]}